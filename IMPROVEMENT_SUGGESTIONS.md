# 기능 추가/개선 아이디어

## 📋 현재 구현된 기능

### 주요 페이지
- **Templates** - 재사용 가능한 할 일 템플릿 관리
- **Todos** - 날짜별 할 일 관리 (템플릿 연동)
- **Plans** - 일회성 계획 관리 (계층 구조, 우선순위, 마감일)
- **Dashboard** - 주간/연간 완료율 통계
- **Bucketlist** - 버킷리스트 관리
- **Notes** - 간단한 메모 기능

### 최근 구현된 개선사항
- ✅ 계획 추가 성능 최적화 (10초 → 1-2초, Bulk UPDATE)
- ✅ 계획 계층 구조 (부모-자식 관계, 최대 depth 3)
- ✅ 계획 드래그앤드롭 순서 변경 (같은 레벨 내)
- ✅ AI 기반 계획 추천 기능

---

## 🎯 단기 개선 아이디어 (1-2주)

### 1. UX/UI 개선
- [ ] **빠른 추가 모드**: Enter 키로 연속 입력 가능한 인라인 추가
- [ ] **스와이프 제스처**: 
  - 왼쪽 스와이프 → 삭제
  - 오른쪽 스와이프 → 완료
- [ ] **풀 투 리프레시**: 목록을 아래로 당겨서 새로고침
- [ ] **로딩 스켈레톤**: 데이터 로딩 중 스켈레톤 UI 표시
- [ ] **에러 토스트**: 사용자 친화적인 에러 메시지 (현재는 console.error만)

### 2. Todos 페이지 개선
- [x] **오늘로 가기 버튼**: 빠른 날짜 이동
- [ ] **주간 뷰**: 한 주의 할 일을 한눈에 보기
- [ ] **할 일 편집 기능**: 인라인 수정
- [ ] **벌크 작업**: 다중 선택 → 일괄 완료/삭제
- [ ] **할 일 검색**: 제목/설명으로 검색

### 3. Plans 페이지 개선
- [ ] **계획 복사 기능**: 기존 계획을 복사해서 새로 만들기
- [ ] **계획 완료 애니메이션**: 체크 시 만족감 있는 효과
- [ ] **마감일 임박 알림**: 마감일 3일 전부터 강조 표시
- [ ] **계획 상태 필터**: 진행중/완료/전체 외에 "마감임박" 추가
- [ ] **계획 통계**: 우선순위별/기간별 완료율

### 4. Templates 페이지 개선
- [ ] **템플릿 미리보기**: 활성화 전 생성될 할 일 미리보기
- [ ] **템플릿 카테고리**: 업무/개인/루틴 등 분류
- [ ] **템플릿 공유**: 링크로 템플릿 내보내기/가져오기
- [ ] **템플릿 버전 관리**: 수정 이력 관리

### 5. Dashboard 개선
- [ ] **목표 설정**: 주간/월간 완료 목표 설정
- [ ] **스트릭 표시**: 연속 달성 일수 표시
- [ ] **완료 시간대 분석**: 언제 가장 많이 완료하는지 통계
- [ ] **카테고리별 통계**: 템플릿별/우선순위별 분석

---

## 🚀 중기 개선 아이디어 (1-2개월)

### 1. 성능 최적화
- [ ] **React Query 도입**: 캐싱 및 백그라운드 업데이트
- [ ] **낙관적 업데이트**: 모든 CRUD에 적용
- [ ] **코드 스플리팅**: 페이지별 동적 임포트
- [ ] **이미지 최적화**: Next.js Image 컴포넌트 활용
- [ ] **번들 크기 최적화**: 
  - date-fns 로케일 선택적 로딩
  - Lucide 아이콘 트리 쉐이킹

### 2. PWA 기능 강화
- [ ] **오프라인 모드**: Service Worker로 오프라인 지원
- [ ] **백그라운드 동기화**: 오프라인에서 작업한 내용 자동 동기화
- [ ] **푸시 알림**: 
  - 마감일 알림
  - 일일 할 일 리마인더
  - 목표 달성 축하
- [ ] **앱 설치 프롬프트**: PWA 설치 유도

### 3. 코드 품질 개선
- [ ] **커스텀 훅 분리**: 
  - `useTodos`, `useTemplates`, `usePlans`
  - `useOptimisticUpdate`
- [ ] **API 레이어 추상화**: `/lib/api/` 디렉토리 구조화
- [ ] **타입 안전성 강화**: Zod 스키마 검증
- [ ] **에러 바운더리**: 전역 에러 핸들링
- [ ] **테스트 커버리지**: 주요 기능 단위 테스트

### 4. 접근성 개선
- [ ] **다크 모드**: 시스템 설정 따라가기
- [ ] **폰트 크기 조절**: 사용자 설정
- [ ] **키보드 네비게이션**: 
  - j/k로 항목 이동
  - Enter로 토글
  - Space로 선택
- [ ] **스크린 리더 지원**: aria-label 추가
- [ ] **고대비 모드**: 시각 장애인 지원

### 5. 데이터 관리
- [ ] **데이터 내보내기/가져오기**: JSON/CSV 형식
- [ ] **백업 기능**: 수동/자동 백업
- [ ] **데이터 복원**: 특정 시점으로 복원
- [ ] **데이터 삭제**: 완료된 항목 일괄 정리

---

## 💡 장기 개선 아이디어 (3개월+)

### 1. 스마트 기능
- [ ] **AI 자동 분류**: 할 일 입력 시 자동으로 카테고리/우선순위 제안
- [ ] **스마트 예측**: 
  - 완료 예상 시간
  - 반복 패턴 학습
  - 최적 마감일 제안
- [ ] **습관 트래킹**: 
  - 연속 완료 통계
  - 패턴 분석 및 피드백
  - 습관 형성 가이드

### 2. 통합 기능
- [ ] **캘린더 연동**: 
  - Google Calendar
  - Apple Calendar
  - Outlook Calendar
- [ ] **이메일 연동**: 이메일에서 할 일 자동 추출
- [ ] **타임 트래킹**: 할 일별 소요 시간 측정
- [ ] **포모도로 타이머**: 집중 시간 관리

### 3. 협업 기능 (선택적)
- [ ] **공유 템플릿 마켓**: 커뮤니티 템플릿 공유
- [ ] **팀 대시보드**: 가족/팀원과 진행 상황 공유
- [ ] **댓글 기능**: 계획/할 일에 댓글 달기
- [ ] **멘션 기능**: 팀원 태그

### 4. 고급 통계
- [ ] **생산성 리포트**: 주간/월간/연간 리포트 생성
- [ ] **비교 분석**: 이전 기간과 비교
- [ ] **목표 대비 달성률**: 시각화된 진척도
- [ ] **인사이트 제공**: AI 기반 개선 제안

### 5. 게이미피케이션
- [ ] **레벨 시스템**: 완료 개수에 따른 레벨업
- [ ] **뱃지/업적**: 특정 조건 달성 시 뱃지 획득
- [ ] **리더보드**: 주간 최다 완료자 (팀 기능과 연계)
- [ ] **리워드 시스템**: 목표 달성 시 보상

---

## 🔧 기술 부채 개선

### 1. 코드 구조
- [ ] **컴포넌트 분리**: 
  - 각 페이지가 너무 큼 (300-800줄)
  - 모달을 별도 컴포넌트로 분리
  - SortableItem을 별도 파일로 분리
- [ ] **상태 관리 개선**: 
  - 전역 상태 관리 (Zustand/Jotai)
  - 서버 상태 vs 클라이언트 상태 분리
- [ ] **타입 정의 개선**: 
  - database.types.ts 자동 생성 자동화
  - 공통 타입 분리

### 2. 데이터베이스 최적화
- [ ] **인덱스 추가**: 
  - date + template_id 복합 인덱스
  - parent_id + order_index 복합 인덱스
- [ ] **뷰 생성**: 자주 사용하는 복잡한 쿼리를 뷰로
- [ ] **RPC 함수 추가**: 복잡한 비즈니스 로직을 DB 함수로
- [ ] **트리거 최적화**: updated_at 자동 업데이트

### 3. 보안 강화
- [ ] **Row Level Security**: Supabase RLS 정책 강화
- [ ] **입력 검증**: 
  - 클라이언트 측 검증 (Zod)
  - 서버 측 검증 (API Routes)
- [ ] **XSS 방지**: 사용자 입력 sanitization
- [ ] **CSRF 방지**: 토큰 검증

---

## 🎯 우선순위별 추천 로드맵

### Phase 1: 기본 UX 개선 (2주)
1. 빠른 추가 모드
2. 에러 토스트
3. 로딩 스켈레톤
4. 오늘로 가기 버튼
5. 계획 복사 기능

### Phase 2: 성능 및 코드 품질 (4주)
1. React Query 도입
2. 낙관적 업데이트 전면 적용
3. 커스텀 훅 분리
4. 컴포넌트 분리 리팩토링
5. 에러 바운더리

### Phase 3: PWA 및 접근성 (4주)
1. 다크 모드
2. 오프라인 모드
3. 푸시 알림
4. 키보드 네비게이션
5. 스크린 리더 지원

### Phase 4: 고급 기능 (지속적)
1. AI 자동 분류
2. 캘린더 연동
3. 습관 트래킹
4. 생산성 리포트
5. 게이미피케이션

---

## 💭 구현 시 고려사항

### 모바일 우선
- 모든 새 기능은 모바일에서 먼저 테스트
- 터치 인터랙션 최적화
- 최소 터치 영역 44x44px 준수

### 성능
- 초기 로딩 시간 < 2초 목표
- 인터랙션 응답 시간 < 100ms 목표
- Lighthouse 점수 90+ 유지

### 접근성
- WCAG 2.1 AA 준수
- 키보드만으로 모든 기능 사용 가능
- 스크린 리더 호환

### 데이터 무결성
- 낙관적 업데이트 실패 시 롤백
- 오프라인 작업 충돌 해결 전략
- 데이터 유실 방지

---

## 📝 메모

- 사용자 피드백을 받아 우선순위 조정 필요
- 각 기능 구현 전 POC(Proof of Concept) 진행 권장
- 점진적 개선 원칙 유지 (Big Bang 리팩토링 지양)
- 항상 롤백 가능한 상태로 배포